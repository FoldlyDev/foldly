/* =============================================================================
   WORKSPACE RESPONSIVE STYLES - Mobile-First Design with Tailwind Utilities
   ============================================================================= */

@layer components {
  /* =============================================================================
       WORKSPACE CONTAINER LAYOUT
       ============================================================================= */

  .workspace-layout {
    @apply flex flex-col gap-4 p-3 min-h-screen bg-transparent;

    /* CSS Variables for responsive values */
    --workspace-padding: 0.75rem;
    --workspace-gap: 1rem;
    --header-spacing: 1.5rem;
    --toolbar-height: auto;
    --tree-container-height: calc(100vh - 200px);
  }

  /* =============================================================================
       WORKSPACE HEADER
       ============================================================================= */

  .workspace-header {
    @apply mb-6;
  }

  .workspace-header-content {
    @apply flex flex-col gap-4;
  }

  .workspace-header-text {
    @apply flex-1;
  }

  .workspace-header-actions {
    @apply flex flex-wrap items-center justify-between gap-2;
  }

  /* =============================================================================
       WORKSPACE TOOLBAR
       ============================================================================= */

  .workspace-toolbar {
    @apply foldly-glass rounded-lg overflow-hidden;
  }

  .workspace-toolbar-main {
    @apply flex flex-col gap-3 p-3;
  }

  .workspace-toolbar-left {
    @apply flex flex-wrap items-center gap-2;
  }

  .workspace-toolbar-right {
    @apply flex flex-wrap items-center gap-2;
  }

  .workspace-search-container {
    @apply relative min-w-[200px] flex-1 max-w-[300px];
  }

  .workspace-folder-creation {
    @apply flex flex-col gap-2 w-full;
  }

  .workspace-folder-input-group {
    @apply flex items-center gap-2 flex-wrap;
  }

  .workspace-folder-input {
    @apply min-w-[200px] flex-1;
  }

  /* =============================================================================
       WORKSPACE TREE CONTAINER
       ============================================================================= */

  .workspace-tree-container {
    @apply flex flex-col flex-1 foldly-glass rounded-lg overflow-hidden;
    min-height: var(--tree-container-height);
    max-height: var(--tree-container-height);
  }

  .workspace-tree-wrapper {
    @apply flex-1 flex flex-col;
  }

  .workspace-tree-content {
    @apply flex-1 p-4 overflow-auto;
    min-height: 0; /* Important for flex scrolling */
  }

  .workspace-tree-footer {
    @apply p-3 text-center;
  }

  .workspace-tree-footer-text {
    @apply text-[0.6875rem] m-0 tracking-[0.01em] font-body leading-[1.4];
  }

  /* =============================================================================
       THEME VARIANTS
       ============================================================================= */

  /* Light Theme */
  .light .workspace-toolbar {
    @apply foldly-glass-light foldly-glass-shadow-bg;
  }

  .light .workspace-tree-container {
    @apply foldly-glass-light foldly-glass-shadow-bg;
  }

  /* Dark Theme - using default foldly-glass */
  .dark .workspace-tree-container {
    @apply foldly-glass;
  }

  /* =============================================================================
       RESPONSIVE BREAKPOINTS - Mobile First
       ============================================================================= */

  /* Small Mobile (xs: 480px+) */
  @media (min-width: 30rem) {
    .workspace-layout {
      @apply p-4 gap-5;
      --tree-container-height: calc(100vh - 220px);
    }

    .workspace-search-container {
      @apply min-w-[240px] max-w-[350px];
    }

    .workspace-folder-input {
      @apply min-w-[240px];
    }
  }

  /* Tablet Portrait (sm: 640px+) */
  @media (min-width: 40rem) {
    .workspace-layout {
      @apply p-6 gap-6;
      --header-spacing: 2rem;
      --tree-container-height: calc(100vh - 240px);
    }

    .workspace-tree-footer-text {
      @apply text-xs;
    }

    .workspace-header-content {
      @apply flex-row items-center justify-between;
    }

    .workspace-toolbar-main {
      @apply flex-row items-center justify-between p-4;
    }

    .workspace-search-container {
      @apply min-w-[280px] max-w-[400px];
    }

    .workspace-folder-creation {
      @apply w-auto;
    }

    .workspace-folder-input-group {
      @apply flex-nowrap;
    }
  }

  /* Tablet Landscape (md: 768px+) */
  @media (min-width: 48rem) {
    .workspace-layout {
      @apply p-8 gap-8;
      --tree-container-height: calc(100vh - 260px);
    }

    .workspace-header-actions {
      @apply justify-end flex-nowrap;
    }

    .workspace-search-container {
      @apply min-w-[320px] max-w-[450px];
    }
  }

  /* Desktop (lg: 1024px+) */
  @media (min-width: 64rem) {
    .workspace-layout {
      @apply p-10 gap-10;
      --tree-container-height: calc(100vh - 280px);
    }

    .workspace-tree-footer-text {
      @apply text-[0.6875rem];
    }

    .workspace-tree-wrapper {
      @apply rounded-2xl;
    }

    .workspace-search-container {
      @apply min-w-[360px] max-w-[500px];
    }
  }

  /* Large Desktop (xl: 1280px+) */
  @media (min-width: 80rem) {
    .workspace-layout {
      @apply p-12;
      --tree-container-height: calc(100vh - 300px);
    }

    .workspace-tree-container {
      @apply max-w-[1200px] mx-auto w-full;
    }
  }

  /* Extra Large Desktop (2xl: 1536px+) */
  @media (min-width: 96rem) {
    .workspace-layout {
      @apply p-14;
    }

    .workspace-tree-container {
      @apply max-w-[1400px];
    }
  }

  /* Ultra Wide (3xl: 1920px+) */
  @media (min-width: 120rem) {
    .workspace-layout {
      @apply p-16;
    }

    .workspace-tree-container {
      @apply max-w-[1600px];
    }
  }

  /* =============================================================================
       ACCESSIBILITY & PERFORMANCE
       ============================================================================= */

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .workspace-header-content,
    .workspace-toolbar-main {
      @apply transition-none;
    }
  }

  /* High Contrast */
  @media (prefers-contrast: high) {
    .workspace-toolbar,
    .workspace-tree-wrapper {
      @apply border-2;
    }
  }

  /* Print Styles */
  @media print {
    .workspace-layout {
      @apply p-4 gap-4;
    }

    .workspace-header-actions,
    .workspace-toolbar {
      @apply hidden;
    }

    .workspace-tree-container {
      @apply max-h-none h-auto;
    }
  }

  /* =============================================================================
       MOBILE-SPECIFIC OPTIMIZATIONS
       ============================================================================= */

  /* Mobile Landscape */
  @media (max-height: 500px) and (orientation: landscape) {
    .workspace-layout {
      @apply gap-3;
      --tree-container-height: calc(100vh - 150px);
      --header-spacing: 1rem;
    }
  }

  /* Touch Device Optimizations */
  @media (hover: none) and (pointer: coarse) {
    .workspace-toolbar-main {
      @apply p-4;
    }

    .workspace-tree-content {
      @apply p-5;
    }

    /* Larger tap targets on mobile */
    .workspace-header-actions button {
      @apply min-h-[44px] min-w-[44px];
    }
  }
}
